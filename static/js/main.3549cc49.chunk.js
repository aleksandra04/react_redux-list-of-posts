(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},22:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),u=(n(22),n(3)),s=(n(27),n(14)),l=n.n(s),i=n(5),m=n(15),d=function(e){return{type:"CHANGE_LOADING",value:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOADING":return t.value;default:return e}},f=function(e){return{type:"CHANGE_LOADED",value:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOADED":return t.value;default:return e}},v=function(e){return{type:"CHANGE_ERROR",value:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ERROR":return t.value;default:return e}},y=n(1),b=n.n(y),N=n(10),g=n(16),w=function(){var e;return b.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},O=function(){var e;return b.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},C=function(){var e;return b.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},j=function(){var e,t,n,r,a;return b.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,b.a.awrap(Promise.all([w(),O(),C()]));case 2:return e=c.sent,t=Object(g.a)(e,3),n=t[0],r=t[1],a=t[2],c.abrupt("return",n.map(function(e){var t=r.find(function(t){return t.id===e.userId}),n=a.filter(function(t){return t.postId===e.id});return Object(N.a)({},e,{user:t,comments:n})}));case 8:case"end":return c.stop()}})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.value;case"DELETE_POST":return e.filter(function(e){return e.id!==t.value});case"DELETE_COMMENT":return e.map(function(e){return e.id===t.postId?Object(N.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e});default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_QUERY":return t.value;default:return e}},x=function(e){return e.posts.filter(function(t){return t.title.includes(e.filterQuery)||t.body.includes(e.filterQuery)})},A=function(e){return e},I=function(e){return e},T=function(e){return e},D=Object(i.c)({posts:_,loading:p,loaded:E,error:h,filterQuery:L}),k=Object(i.d)(D,Object(i.a)(m.a)),G=Object(u.b)(null,function(e){return{deleteComment:function(t,n){return e(function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}(t,n))}}})(function(e){var t=e.comment,n=e.postId,r=e.deleteComment;return a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:"delete",onClick:function(){return r(n,t.id)}},"x"),a.a.createElement("p",{className:"comment"},t.name),a.a.createElement("p",{className:"comment"},t.body),a.a.createElement("p",{className:"comment"},t.email))}),P=function(e){var t=e.comments,n=e.postId;return t.map(function(e){return a.a.createElement(G,{comment:e,postId:n})})},S=function(e){var t=e.user;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"user"},t.name),a.a.createElement("p",{className:"user"},t.email),a.a.createElement("p",{className:"user"},"".concat(t.address.city," ").concat(t.address.street," ").concat(t.address.suite)))},H=Object(u.b)(null,function(e){return{deletePost:function(t){return e(function(e){return{type:"DELETE_POST",value:e}}(t))}}})(function(e){var t=e.post,n=e.deletePost;return a.a.createElement("div",{className:"post"},a.a.createElement("button",{type:"button",onClick:function(){return n(t.id)},className:"delete"},"delete post"),a.a.createElement("p",{className:"title"},t.title),a.a.createElement("p",null,t.body),a.a.createElement("div",{className:"user"},a.a.createElement(S,{user:t.user})),a.a.createElement("ul",null,a.a.createElement("p",{className:"title-comment"},"Comments"),a.a.createElement(P,{comments:t.comments,postId:t.id})))}),R=Object(u.b)(function(e){return{posts:x(e),isLoading:A(e.loading),postsLoaded:I(e.loaded),loadingError:T(e.error)}},function(e){return{getPosts:function(t){return e(function(e){var t;return b.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e(d(!0)),n.next=4,b.a.awrap(j());case 4:t=n.sent,e({type:"SET_POSTS",value:t}),e(d(!1)),e(f(!0)),e(v(!1)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),e(v(!0));case 14:case"end":return n.stop()}},null,null,[[0,11]])})},setQuery:function(t){return e(function(e){return{type:"CHANGE_QUERY",value:e}}(t))}}})(function(e){var t=e.posts,n=e.isLoading,r=e.postsLoaded,c=e.loadingError,o=e.setQuery,u=e.getPosts,s=l.a.debounce(o,500);return a.a.createElement("div",null,0===t.length&&!c&&!n&&a.a.createElement("button",{className:"load",type:"button",onClick:u},"Load"),n&&!c&&a.a.createElement("div",{className:"loading"},"Loading..."),r&&!n&&a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"search"},"Search",a.a.createElement("input",{id:"search",className:"input",type:"search",onChange:function(e){return s(e.target.value)}})),t.map(function(e){return a.a.createElement(H,{post:e,key:e.id})})),c&&a.a.createElement("div",{className:"button_container"},a.a.createElement("p",{className:"error"},"Error occurred"),a.a.createElement("button",{className:"load",type:"button",onClick:u},"Try again")))}),Q=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of posts"),a.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(u.a,{store:k},a.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.3549cc49.chunk.js.map